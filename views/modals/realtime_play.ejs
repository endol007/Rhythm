<div id="play" class="w3-modal">
  <div class="w3-modal-content w3-card-4 w3-light-gray w3-round-large w3-animate-top" style="max-width:500px;">
    <div class="w3-container w3-padding">
      <div class="w3-section w3-display-container">
        <div class="w3-panel">
          <h class="w3-text-red" style="text-shadow: 1px 1px black;">Start receive the data, are you sure?</h>
          <br/>
          <h class="w3-text-red" style="text-shadow: 1px 1px black;">( *Previous data will be removed )</h>
        </div>
        <div class="w3-panel">
          <a class="w3-button w3-border w3-blue w3-hover-shadow w3-hover-indigo w3-round" onclick="receiveStart(true)">&nbsp;&nbsp;&nbsp;Ok&nbsp;&nbsp;&nbsp;</a>
          <a class="w3-button w3-border w3-hover-shadow w3-round w3-right" onclick="document.getElementById('play').style.display='none'">Cancle</a>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
function openPlay() {
  if (!Object.keys(nodes).length) {
    alert('노드를 등록해주세요.');
    return;
  }

  document.getElementById('play').style.display = 'block';
}

function receiveStart(b) {
  document.getElementById('btn_play').style.display = b ? 'none' : 'inline-block';
  document.getElementById('btn_stop').style.display = b ? 'inline-block' : 'none';

  if (b) {
    for (var x in nodes) clearCharts(x);
    for (var x in nodes) {
      nodes[x] = {
        currentDatr: '',
        data: {},
        last_in: '',
        interval: 0,
        rssi: {
          max: 0,
          min: 0,
          avg: 0
        },
        lsnr: {
          max: 0,
          min: 0,
          avg: 0
        }
      };
    }
    document.getElementById('play').style.display = 'none';
  }

  isPlay = b;
  refreshTable();
}
</script>
